<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sentence Fragment Shuffler</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 40px;
    }
    .container {
      max-width: 600px;
      margin: auto;
    }
    #fragments {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }
    .fragment {
      padding: 10px 15px;
      margin: 5px;
      background-color: #f0f0f0;
      border: 1px solid #ccc;
      border-radius: 5px;
      transition: all 0.3s ease;
    }
    input {
      padding: 5px;
      width: 60px;
      font-size: 1rem;
    }
    button {
      padding: 8px 16px;
      margin: 10px;
      font-size: 1rem;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Sentence Fragment Shuffler</h1>
    
    <div>
      <label for="shuffleCount">Number of shuffles:</label>
      <input type="number" id="shuffleCount" min="1" value="5" />
    </div>
    
    <div>
      <button onclick="startShuffling()">Press here to shuffle</button>
      <button onclick="resetFragments()">Reset</button>
    </div>
    
    <div id="fragments"></div>
  </div>

  <script>
    const originalFragments = [
"You are here.", "You are on the bank of the river, the one that bends and cups your memories, stuck in a midwest town with two names.", "You see her, there, amongst the corpses of trees that arch out of the water, a Heron made of slate gray.", "You’re not sure if she’s made of feather, or stone, so still and unflinching in the current.", "She is there every day, as the sun rises and sets but you pass her by, until tonight. Tonight, her wings are concave above the swirling browns and blue hues of the Saint Joe, and you are close enough to see the yellow iris, the single drip of water rolling off her head.", "You think you should keep walking but you cannot look away.", "For the first time in weeks you cannot unstick your feet, cannot keep walking.", "You keep her in your sights as her eyes flick left, right, left, before she strikes, pierces the waters surface without mercy, emerges with a fish, motionless, between her beak.", "Later you will learn that scientists call this maneuver a death blow.", "Later you will learn that Herons are patient hunters, willing to stand stone still in the flow until the perfect momen to nourish the body.", "These are things you learn later, but now, in this moment, you feel her eyes on you, wings folding back against the slope of her ribs, she flicks her head back and swallows the fish whole, and for the first time in weeks you remember your own body, the damp socks on your feet, the grease in your hair, the texture on your teeth, the salt of your shirt.", "She takes flight, sudden and without warning, as if she too is only now aware of your body.", "You hear her wings first, and then her caw, the call that is half bark, half cry.", "You are here, on the bank of the river, and for the first time in weeks, you cry.", "you’re almost home tonight, but it’s a place you inhabit, indistinct music thrums, then drifts quiet, until: a shimmering mandolin, a metallic glint", "these late summer goodbyes, too many miles behind you to turn back", "the sun sets a minute faster; you miss only its light, never the heat", "this window (all windows) not mirrors, but squarish eyes", "not better, just different", "the flash of television against the sash, the flickering light of your childhood evenings, seen from outside now", "'oh, my love'— a refrain, sudden and unfamiliar—there you go, more lost than before", "your back is turned toward morning, and you wonder how they’ll tell you when he’s gone", "you shut your eyes, and you’re five again," "she walks rapidly backward to the car, he’s there—but no— the film whips loudly against the projector, snapping", "he cradled your hand, steadied the aim, said: “breathe”: still you mourn that the tree outlived him", "she married another, you were eleven: braces", "already lost, before mother said, 'I have to tell you something, when you get out'", "it’s 10 o’clock and a knock brings you to the door of bad news", "one night it is late July and then suddenly, September; you couldn’t look away, only cried", "his letters, blue ink on dime store paper", "his voice, undeleted, phantom", "you read about it", "your mother told you", "the letter arrived this morning", "you saw his name there, beside the others", "never stopping, until his heart gave out", "you forgave him, hated him, loved him, and it is possible all three are true", "you push the thought away, but more come", "the last time he spoke, he claimed to be an ancient fisherman, over a hundred years old", "he was blind at the end, but saw the faces of loved ones, surrounding him", "the miracle of your birth is that you were born, in spite of this", "if only you had known, you would have . . . but we all say the same", "your father was killed in a stampede", "your father drove you to your swim meet", "your father transplanted a kidney", "your father laid off a woman’s niece", "your father polluted the Yangtze", "your father shot a white-tailed deer", "your father dug tunnels beneath a city", "your father wrote great American poetry", "your father’s a soldier but was a teacher", "your father contributed to AIDS research", "your father sang until you fell asleep", "your father murdered a man for speed", "your father told lies in eulogies", "your father took you 400 miles for treatment", "your father killed you then reported you missing", "your father, alone, raised you and your sisters", "your father repaired your washing machine", "your father found you in a tangle of trees", "your father coached your baseball team", "your father (for you) left his country", "your father beat your mother to pieces", "your father taught you how to grow beans", "your father showed up when you were sixteen", "your father went to Harvard University", "your father worked 80 hour weeks", "your father was deported for being illegal", "your father waited in long lines for chickpeas", "your father lost both his legs below the knees", "your father’s had one meal daily for weeks", "your father changed your oil for years", "your father cried at your wedding", "your father sold you to a man at thirteen", "your father helped you pass geometry", "your father drank beer after beer", "your father fished when he should have been working", "your father converted to your mother’s religion", "your father cared for your aunt for years", "your father adjusted your bicycle seat", "your father buried his thoughts with TV", "your father paid for you to study teaching", "your father wanted boys, then taught you rugby", "your father died from sickle-cell disease", "your father hugged you once, at age three", "your father planted thousands of trees", "your father skipped meals so you could eat", "your father washed the pastor’s feet", "your father still comes to you in dreams"

    ];

    let currentFragments = [...originalFragments];

    const fragmentsContainer = document.getElementById("fragments");

    function renderFragments() {
      fragmentsContainer.innerHTML = '';
      currentFragments.forEach(fragment => {
        const div = document.createElement("div");
        div.className = "fragment";
        div.textContent = fragment;
        fragmentsContainer.appendChild(div);
      });
    }

  
    function singleShuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }


    function startShuffling() {
      const shuffleTimes = parseInt(document.getElementById("shuffleCount").value) || 1;
      let count = 0;

      const interval = setInterval(() => {
        singleShuffle(currentFragments);
        renderFragments();
        count++;
        if (count >= shuffleTimes) {
          clearInterval(interval);
        }
      }, 50); // 
    }

    
    function resetFragments() {
      currentFragments = [...originalFragments];
      renderFragments();
    }

    // Initial render
    renderFragments();
  </script>
</body>
</html>
